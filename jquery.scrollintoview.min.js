/*!
 * jQuery scrollintoview() plugin and :scrollable selector filter
 *
 * Version 1.8 (14 Jul 2011)
 * Requires jQuery 1.4 or newer
 *
 * Copyright (c) 2011 Robert Koritnik
 * Licensed under the terms of the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(g){var d={vertical:{x:false,y:true},horizontal:{x:true,y:false},both:{x:true,y:true},x:{x:true,y:false},y:{x:false,y:true}};var c={duration:"fast",direction:"both"};var f=/^(?:html)$/i;var h=function(l,k){k=k||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(l,null):l.currentStyle);var j=document.defaultView&&document.defaultView.getComputedStyle?true:false;var i={top:(parseFloat(j?k.borderTopWidth:g.css(l,"borderTopWidth"))||0),left:(parseFloat(j?k.borderLeftWidth:g.css(l,"borderLeftWidth"))||0),bottom:(parseFloat(j?k.borderBottomWidth:g.css(l,"borderBottomWidth"))||0),right:(parseFloat(j?k.borderRightWidth:g.css(l,"borderRightWidth"))||0)};return{top:i.top,left:i.left,bottom:i.bottom,right:i.right,vertical:i.top+i.bottom,horizontal:i.left+i.right}};var e=function(i){var k=g(window);var j=f.test(i[0].nodeName);return{border:j?{top:0,left:0,bottom:0,right:0}:h(i[0]),scroll:{top:(j?k:i).scrollTop(),left:(j?k:i).scrollLeft()},scrollbar:{right:j?0:i.innerWidth()-i[0].clientWidth,bottom:j?0:i.innerHeight()-i[0].clientHeight},rect:(function(){var l=i[0].getBoundingClientRect();return{top:j?0:l.top,left:j?0:l.left,bottom:j?i[0].clientHeight:l.bottom,right:j?i[0].clientWidth:l.right}})()}};g.fn.extend({scrollintoview:function(k){k=g.extend({},c,k);k.direction=d[typeof(k.direction)==="string"&&k.direction.toLowerCase()]||d.both;var o="";if(k.direction.x===true){o="horizontal"}if(k.direction.y===true){o=o?"both":"vertical"}var m=this.eq(0);var j=m.parent().closest(":scrollable("+o+")");if(j.length>0){j=j.eq(0);j.scrollintoview(g.extend({},arguments[0],{complete:null}));var n={e:e(m),s:e(j)};var i={top:n.e.rect.top-(n.s.rect.top+n.s.border.top),bottom:n.s.rect.bottom-n.s.border.bottom-n.s.scrollbar.bottom-n.e.rect.bottom,left:n.e.rect.left-(n.s.rect.left+n.s.border.left),right:n.s.rect.right-n.s.border.right-n.s.scrollbar.right-n.e.rect.right};var l={};if(k.direction.y===true){if(i.top<0){l.scrollTop=n.s.scroll.top+i.top}else{if(i.top>0&&i.bottom<0){l.scrollTop=n.s.scroll.top+Math.min(i.top,-i.bottom)}}}if(k.direction.x===true){if(i.left<0){l.scrollLeft=n.s.scroll.left+i.left}else{if(i.left>0&&i.right<0){l.scrollLeft=n.s.scroll.left+Math.min(i.left,-i.right)}}}if(!g.isEmptyObject(l)){if(f.test(j[0].nodeName)){j=g("html,body")}j.animate(l,k.duration).eq(0).queue(function(p){g.isFunction(k.complete)&&k.complete.call(j[0]);p()})}else{g.isFunction(k.complete)&&k.complete.call(j[0])}}else{if(m.length>0){g.isFunction(k.complete)&&k.complete.call()}}return this}});var b={auto:true,scroll:true,visible:false,hidden:false};var a=function(j,m){if(j==document){return false}var l=d[typeof(m)==="string"&&m.toLowerCase()]||d.both;var k=(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(j,null):j.currentStyle);var n={x:b[k.overflowX.toLowerCase()]||false,y:b[k.overflowY.toLowerCase()]||false,isRoot:f.test(j.nodeName)};if(!n.x&&!n.y&&!n.isRoot){return false}var i={height:{scroll:j.scrollHeight,client:j.clientHeight},width:{scroll:j.scrollWidth,client:j.clientWidth},scrollableX:function(){return(n.x||n.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(n.y||n.isRoot)&&this.height.scroll>this.height.client}};return l.y&&i.scrollableY()||l.x&&i.scrollableX()};g.extend(g.expr[":"],{scrollable:g.expr.createPseudo?g.expr.createPseudo(function(i){return function(j){return a(j,i)}}):function(k,j,l,i){return a(k,l[3])}})})(jQuery);